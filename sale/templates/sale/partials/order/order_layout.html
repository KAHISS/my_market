<div class="order-page-header">
    <div class="order-header-title">
        <h1>Detalhes do Pedido</h1>
        <span>#{{ order.id }}</span>
    </div>
    <div class="order-status-badge status-{{ order.status }}">
        <i data-feather="check-circle"></i> {{ order.get_status_display }}
    </div>
</div>

<div class="order-layout-grid">

    <div class="order-main-content">
        <h2>Itens do Pedido ({{ order.total_quantity }})</h2>

        <div class="order-items-table-container">
            <table>
                <thead>
                    <tr>
                        <th>Produto</th>
                        <th>Qtde.</th>
                        <th>Preço Unit.</th>
                        <th>Preço Subtotal</th>
                        <th>Desconto</th>
                        <th>Total</th>      
                    </tr>
                </thead>
                <tbody>
                    {% for item in order.order_items.all %}
                        {% include "sale/partials/order/order_items.html"%}
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

    <div class="order-sidebar">

        <div class="info-box">
            <h3>Resumo do Pedido</h3>
            <ul class="summary-list">
                <li>
                    <span>Subtotal ({{ order.total_quantity }} itens)</span>
                    <strong>R$ {{ order.total_price|floatformat:2 }}</strong>
                </li>
                <li>
                    <span>Desconto</span>
                    <strong class="text-discount">- R$ {{ order.total_discount|floatformat:2 }}</strong>
                </li>
                <li class="total">
                    <span>Total</span>
                    <strong>R$ {{ order.total_price_with_discount|floatformat:2 }}</strong>
                </li>
            </ul>
        </div>

        <div class="info-box">
            <h3>Detalhes da Transação</h3>
            <ul class="details-list">
                <li><strong>Cliente:</strong> {{ order.client.user.first_name }} {{ order.client.user.last_name }}</li>
                <li><strong>Vendedor:</strong> M-A-C Store</li>
                <li><strong>Data do Pedido:</strong> {{ order.created_at|date:"d de N, Y" }}</li>
                <li><strong>Status:</strong> {{ order.get_status_display }}</li>
            </ul>
        </div>

        <div class="info-box">
            <h3>Pagamento</h3>
            <ul class="details-list">
                <li><strong>Método:</strong> Cartão de Crédito</li>
                <li><strong>Final:</strong> **** **** **** 4242</li>
                <li><strong>Status:</strong> Aprovado</li>
            </ul>
        </div>

        <div class="info-box">
            <h3>Endereço de Entrega</h3>
            <address>
                Jojo da Silva<br>
                Rua das Flores, 123, Apt 45<br>
                Bairro Centro, São Paulo - SP<br>
                CEP: 01000-000
            </address>
        </div>
        
        <div class="order-actions">
            <button class="btn btn-secondary"><i data-feather="printer"></i> Imprimir Pedido</button>
            <button class="btn btn-primary"><i data-feather="help-circle"></i> Ajuda</button>
        </div>
    </div>

</div>